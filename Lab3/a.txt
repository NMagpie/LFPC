if B->A => entry.getValue().get(i) = A entry.getKey()|entry.geyValue = B
все правила A переносим в B
удаляем это правило в самом B
если A->A =>
просто удаляем правило
и еще S0->S (не забыть!!!)

Moving terminals:

если содержит терминал и терминал не равен строке => генерируем новый нон-терминал q(n) и вставляем в него терминал
реплейс терминала на нон-терминал во всей грамматике